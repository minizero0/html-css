<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
	#box{
		width:100px;
		height:100px;
		background:red;
	}
</style>
<script type="text/javascript" src = "https://code.jquery.com/jquery-3.6.1.min.js"></script>
<script type="text/javascript">
	$(function(){
		var clearQueue = false;
		var goToEnd = false;

		$("#stopBtn").click(function(){
			$("#box").stop(clearQueue,goToEnd)
		})
		
		$("#clearQueue").change(function(){
			clearQueue = $(this).prop("checked");
 		})

		$("#goToEnd").change(function(){
			goToEnd = $(this).prop("checked");
		})
		
		
		setInterval(function(){
			$("#box").animate({
				width:200
			},2000).
			delay(1000).
			animate({
				width:100
			},2000)
		},5000)
	});
</script>
</head>
<body>
	<label for="">clearQueue</label>
	<input type="checkbox" id = "clearQueue">
	<br>
	<label for="">goToEnd</label>
	<input type="checkbox" id="goToEnd">
	<br>
	<button id="stopBtn">Stop</button>
	<div id="box"></div>
</body>
</html>